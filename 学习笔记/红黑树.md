### 红黑树

- 自平衡的二叉查找树

- 红黑树的的性质：

  红黑树是一种含有红黑结点并能自平衡的二叉查找树。它必须满足下面性质：

  1. 性质1：每个节点要么是黑色，要么是红色。
  2. 性质2：根节点是黑色。
  3. 性质3：每个叶子节点（NIL）是黑色。
  4. 性质4：每个红色结点的两个子结点一定都是黑色。（没有连续的两个红色节点）
  5. **性质5：任意一结点到每个叶子结点的路径都包含数量相同的黑结点。**

     性质5.1：如果一个结点存在黑子结点，那么该结点肯定有两个子结点 

![](D:\mdimage\hongheishu1.png)

   红黑树并不是一个*完美*平衡二叉查找树，从图1可以看到，根结点P的左子树显然比右子树高，但左子树和右子树的黑结点的层数是相等的，也即任意一个结点到到每个叶子结点的路径都包含数量相同的黑结点(性质5)。所以我们叫红黑树这种平衡为**黑色完美平衡**。

   ![](D:\mdimage\hongheishu2.png)

   ### 红黑树如何自平衡

**左旋**：以某个结点作为支点(旋转结点)，其右子结点变为旋转结点的父结点，右子结点的左子结点变为旋转结点的右子结点，左子结点保持不变。如图3。

 **右旋**：以某个结点作为支点(旋转结点)，其左子结点变为旋转结点的父结点，左子结点的右子结点变为旋转结点的左子结点，右子结点保持不变。如图4。

 **变色**：结点的颜色由红变黑或由黑变红。

 ![](D:\mdimage\hongheishu3.png)

 

 

 ![](D:\mdimage\hongheishu4.png)

 