消息队列的作用
异步 解耦 削峰

异步：假如要求两个系统同时在线的业务，当引入消息队列，可以实现异步处理。假如Server未上线，待处理消息可以暂时存放在消息队列中。
等到server上线再进行处理。

削峰：往往产生数据的速度大于服务器消费数据的速度，消息队列可以减少两端消费速度不一致的问题。

消息队列的两种模式：

1.点对点模式：一对一，消费者主动拉取数据，一个消息队列对应一个消费者，当消费者收到消息后从消息队列中删除消息。
2.发布/订阅模式：一对多，一个消息可以被多个消费者消费，且消费之后不会从消息队列中删除。

Consumer拉取数据还是消息队列推送数据？

Consumer拉取数据的优缺点：
优点：消费者可以根据自己的服务器能力考虑每秒拉取多少条数据。
缺点：服务器维护一个长轮询，需要实时请求消息队列查看是否有新的数据。

消息队列推送数据的优缺点：
优点：Consumer不用考虑消息是否更新，只需要接收数据。
缺点：消息队列无法根据不同消费者的性能提供不一样的消息推送速度。